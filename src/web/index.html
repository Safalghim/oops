<!DOCTYPE html>
<html>
<head>
    <title>Digital Office Directory</title>
    <style>
        table {
            border-collapse: collapse;
            width: 80%;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #444;
            padding: 8px;
            text-align: left;
        }
        th {
            background: #ddd;
        }
    </style>
</head>
<body>
    <h1>Office Directory</h1>

    <button onclick="loadStaff()">Load Staff</button>
    <button onclick="loadDepartments()">Load Departments</button>

    <div id="output"></div>

    <script>
        function loadStaff() {
            fetch("http://localhost:8081/staff")
                .then(res => res.json())
                .then(data => displayStaffTable(data));
        }

        function loadDepartments() {
            fetch("http://localhost:8081/departments")
                .then(res => res.json())
                .then(data => displayDepartmentTable(data));
        }

        function displayStaffTable(staffList) {
            let html = `
                <table>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Position</th>
                        <th>Department ID</th>
                    </tr>
            `;

            staffList.forEach(s => {
                html += `
                    <tr>
                        <td>${s.id}</td>
                        <td>${s.name}</td>
                        <td>${s.email}</td>
                        <td>${s.position}</td>
                        <td>${s.departmentId}</td>
                    </tr>
                `;
            });

            html += `</table>`;
            document.getElementById("output").innerHTML = html;
        }

        function displayDepartmentTable(deptList) {
            let html = `
                <table>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                      
                    </tr>
            `;

            deptList.forEach(d => {
                html += `
                    <tr>
                        <td>${d.id}</td>
                        <td>${d.name}</td>
                       
                    </tr>
                `;
            });

            html += `</table>`;
            document.getElementById("output").innerHTML = html;
        }
    </script>
</body>
</html>
